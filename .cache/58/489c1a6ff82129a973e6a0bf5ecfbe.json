{"id":"../../controllers/viewsController.js","dependencies":[{"name":"/Users/alvaroserranorivas/Desktop/tours/package.json","includedInParent":true,"mtime":1576599514072},{"name":"../models/tourModel","loc":{"line":1,"column":21},"parent":"/Users/alvaroserranorivas/Desktop/tours/controllers/viewsController.js","resolved":"/Users/alvaroserranorivas/Desktop/tours/models/tourModel.js"},{"name":"../models/userModel","loc":{"line":2,"column":21},"parent":"/Users/alvaroserranorivas/Desktop/tours/controllers/viewsController.js","resolved":"/Users/alvaroserranorivas/Desktop/tours/models/userModel.js"},{"name":"../utils/catchAsync","loc":{"line":3,"column":27},"parent":"/Users/alvaroserranorivas/Desktop/tours/controllers/viewsController.js","resolved":"/Users/alvaroserranorivas/Desktop/tours/utils/catchAsync.js"},{"name":"../utils/appError","loc":{"line":4,"column":25},"parent":"/Users/alvaroserranorivas/Desktop/tours/controllers/viewsController.js","resolved":"/Users/alvaroserranorivas/Desktop/tours/utils/appError.js"}],"generated":{"js":"var Tour = require('../models/tourModel');\n\nvar User = require('../models/userModel');\n\nvar catchAsync = require('../utils/catchAsync');\n\nvar AppError = require('../utils/appError');\n\nexports.getOverview = catchAsync(function _callee(req, res, next) {\n  var tours;\n  return regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return regeneratorRuntime.awrap(Tour.find());\n\n        case 2:\n          tours = _context.sent;\n          //2.Create template\n          //3.Render template\n          res.status(200).render('overview', {\n            title: 'All tours',\n            tours: tours\n          });\n\n        case 4:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n});\nexports.getTour = catchAsync(function _callee2(req, res, next) {\n  var tour;\n  return regeneratorRuntime.async(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return regeneratorRuntime.awrap(Tour.findOne({\n            slug: req.params.slug\n          }).populate({\n            path: 'reviews',\n            fields: 'review rating user'\n          }));\n\n        case 2:\n          tour = _context2.sent;\n\n          if (tour) {\n            _context2.next = 5;\n            break;\n          }\n\n          return _context2.abrupt(\"return\", next(new AppError('There is no tour with that name', 404)));\n\n        case 5:\n          res.status(200).render('tour', {\n            title: \"\".concat(tour.name),\n            tour: tour\n          });\n\n        case 6:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  });\n});\n\nexports.getLoginForm = function (req, res) {\n  res.status(200).render('login', {\n    title: 'Log into your account'\n  });\n};\n\nexports.getSignupForm = function (req, res) {\n  res.status(200).render('signup', {\n    title: 'Create a new account'\n  });\n};\n\nexports.getAccount = function (req, res) {\n  res.status(200).render('account');\n};\n\nexports.updateUserData = catchAsync(function _callee3(req, res, next) {\n  var updatedUser;\n  return regeneratorRuntime.async(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return regeneratorRuntime.awrap(User.findByIdAndUpdate(req.user.id, {\n            name: req.body.name,\n            email: req.body.email\n          }, {\n            new: true,\n            runValidators: true\n          }));\n\n        case 2:\n          updatedUser = _context3.sent;\n          res.status(200).render('account', {\n            title: 'Your account',\n            user: updatedUser\n          });\n\n        case 4:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  });\n});"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":1,"column":0},"source":"../../controllers/viewsController.js","original":{"line":1,"column":0}},{"name":"Tour","generated":{"line":1,"column":4},"source":"../../controllers/viewsController.js","original":{"line":1,"column":6}},{"generated":{"line":1,"column":8},"source":"../../controllers/viewsController.js","original":{"line":1,"column":10}},{"name":"require","generated":{"line":1,"column":11},"source":"../../controllers/viewsController.js","original":{"line":1,"column":13}},{"generated":{"line":1,"column":18},"source":"../../controllers/viewsController.js","original":{"line":1,"column":20}},{"generated":{"line":1,"column":19},"source":"../../controllers/viewsController.js","original":{"line":1,"column":21}},{"generated":{"line":1,"column":40},"source":"../../controllers/viewsController.js","original":{"line":1,"column":20}},{"generated":{"line":1,"column":41},"source":"../../controllers/viewsController.js","original":{"line":1,"column":0}},{"generated":{"line":3,"column":0},"source":"../../controllers/viewsController.js","original":{"line":2,"column":0}},{"name":"User","generated":{"line":3,"column":4},"source":"../../controllers/viewsController.js","original":{"line":2,"column":6}},{"generated":{"line":3,"column":8},"source":"../../controllers/viewsController.js","original":{"line":2,"column":10}},{"name":"require","generated":{"line":3,"column":11},"source":"../../controllers/viewsController.js","original":{"line":2,"column":13}},{"generated":{"line":3,"column":18},"source":"../../controllers/viewsController.js","original":{"line":2,"column":20}},{"generated":{"line":3,"column":19},"source":"../../controllers/viewsController.js","original":{"line":2,"column":21}},{"generated":{"line":3,"column":40},"source":"../../controllers/viewsController.js","original":{"line":2,"column":20}},{"generated":{"line":3,"column":41},"source":"../../controllers/viewsController.js","original":{"line":2,"column":0}},{"generated":{"line":5,"column":0},"source":"../../controllers/viewsController.js","original":{"line":3,"column":0}},{"name":"catchAsync","generated":{"line":5,"column":4},"source":"../../controllers/viewsController.js","original":{"line":3,"column":6}},{"generated":{"line":5,"column":14},"source":"../../controllers/viewsController.js","original":{"line":3,"column":16}},{"name":"require","generated":{"line":5,"column":17},"source":"../../controllers/viewsController.js","original":{"line":3,"column":19}},{"generated":{"line":5,"column":24},"source":"../../controllers/viewsController.js","original":{"line":3,"column":26}},{"generated":{"line":5,"column":25},"source":"../../controllers/viewsController.js","original":{"line":3,"column":27}},{"generated":{"line":5,"column":46},"source":"../../controllers/viewsController.js","original":{"line":3,"column":26}},{"generated":{"line":5,"column":47},"source":"../../controllers/viewsController.js","original":{"line":3,"column":0}},{"generated":{"line":7,"column":0},"source":"../../controllers/viewsController.js","original":{"line":4,"column":0}},{"name":"AppError","generated":{"line":7,"column":4},"source":"../../controllers/viewsController.js","original":{"line":4,"column":6}},{"generated":{"line":7,"column":12},"source":"../../controllers/viewsController.js","original":{"line":4,"column":14}},{"name":"require","generated":{"line":7,"column":15},"source":"../../controllers/viewsController.js","original":{"line":4,"column":17}},{"generated":{"line":7,"column":22},"source":"../../controllers/viewsController.js","original":{"line":4,"column":24}},{"generated":{"line":7,"column":23},"source":"../../controllers/viewsController.js","original":{"line":4,"column":25}},{"generated":{"line":7,"column":42},"source":"../../controllers/viewsController.js","original":{"line":4,"column":24}},{"generated":{"line":7,"column":43},"source":"../../controllers/viewsController.js","original":{"line":4,"column":0}},{"name":"exports","generated":{"line":9,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":0}},{"generated":{"line":9,"column":7},"source":"../../controllers/viewsController.js","original":{"line":6,"column":7}},{"name":"getOverview","generated":{"line":9,"column":8},"source":"../../controllers/viewsController.js","original":{"line":6,"column":8}},{"generated":{"line":9,"column":19},"source":"../../controllers/viewsController.js","original":{"line":6,"column":0}},{"name":"catchAsync","generated":{"line":9,"column":22},"source":"../../controllers/viewsController.js","original":{"line":6,"column":22}},{"generated":{"line":9,"column":32},"source":"../../controllers/viewsController.js","original":{"line":6,"column":32}},{"generated":{"line":9,"column":33},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"name":"req","generated":{"line":9,"column":50},"source":"../../controllers/viewsController.js","original":{"line":6,"column":40}},{"generated":{"line":9,"column":53},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"name":"res","generated":{"line":9,"column":55},"source":"../../controllers/viewsController.js","original":{"line":6,"column":45}},{"generated":{"line":9,"column":58},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"name":"next","generated":{"line":9,"column":60},"source":"../../controllers/viewsController.js","original":{"line":6,"column":50}},{"generated":{"line":9,"column":64},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":10,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":11,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":12,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":13,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":14,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":15,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":16,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"name":"Tour","generated":{"line":16,"column":42},"source":"../../controllers/viewsController.js","original":{"line":8,"column":22}},{"generated":{"line":16,"column":46},"source":"../../controllers/viewsController.js","original":{"line":8,"column":26}},{"name":"find","generated":{"line":16,"column":47},"source":"../../controllers/viewsController.js","original":{"line":8,"column":27}},{"generated":{"line":16,"column":51},"source":"../../controllers/viewsController.js","original":{"line":8,"column":22}},{"generated":{"line":16,"column":53},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":18,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"name":"tours","generated":{"line":19,"column":0},"source":"../../controllers/viewsController.js","original":{"line":8,"column":8}},{"name":"tours","generated":{"line":19,"column":10},"source":"../../controllers/viewsController.js","original":{"line":8,"column":8}},{"generated":{"line":19,"column":15},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":20,"column":0},"source":"../../controllers/viewsController.js","original":{"line":9,"column":2}},{"generated":{"line":21,"column":0},"source":"../../controllers/viewsController.js","original":{"line":11,"column":2}},{"name":"res","generated":{"line":22,"column":0},"source":"../../controllers/viewsController.js","original":{"line":13,"column":2}},{"name":"res","generated":{"line":22,"column":10},"source":"../../controllers/viewsController.js","original":{"line":13,"column":2}},{"generated":{"line":22,"column":13},"source":"../../controllers/viewsController.js","original":{"line":13,"column":5}},{"name":"status","generated":{"line":22,"column":14},"source":"../../controllers/viewsController.js","original":{"line":13,"column":6}},{"generated":{"line":22,"column":20},"source":"../../controllers/viewsController.js","original":{"line":13,"column":2}},{"generated":{"line":22,"column":21},"source":"../../controllers/viewsController.js","original":{"line":13,"column":13}},{"generated":{"line":22,"column":24},"source":"../../controllers/viewsController.js","original":{"line":13,"column":2}},{"name":"render","generated":{"line":22,"column":26},"source":"../../controllers/viewsController.js","original":{"line":13,"column":18}},{"generated":{"line":22,"column":32},"source":"../../controllers/viewsController.js","original":{"line":13,"column":2}},{"generated":{"line":22,"column":33},"source":"../../controllers/viewsController.js","original":{"line":13,"column":25}},{"generated":{"line":22,"column":43},"source":"../../controllers/viewsController.js","original":{"line":13,"column":2}},{"generated":{"line":22,"column":45},"source":"../../controllers/viewsController.js","original":{"line":13,"column":37}},{"name":"title","generated":{"line":23,"column":0},"source":"../../controllers/viewsController.js","original":{"line":14,"column":4}},{"name":"title","generated":{"line":23,"column":12},"source":"../../controllers/viewsController.js","original":{"line":14,"column":4}},{"generated":{"line":23,"column":17},"source":"../../controllers/viewsController.js","original":{"line":14,"column":9}},{"generated":{"line":23,"column":19},"source":"../../controllers/viewsController.js","original":{"line":14,"column":11}},{"generated":{"line":23,"column":30},"source":"../../controllers/viewsController.js","original":{"line":13,"column":37}},{"name":"tours","generated":{"line":24,"column":0},"source":"../../controllers/viewsController.js","original":{"line":15,"column":4}},{"name":"tours","generated":{"line":24,"column":12},"source":"../../controllers/viewsController.js","original":{"line":15,"column":4}},{"generated":{"line":24,"column":17},"source":"../../controllers/viewsController.js","original":{"line":15,"column":9}},{"name":"tours","generated":{"line":24,"column":19},"source":"../../controllers/viewsController.js","original":{"line":15,"column":4}},{"generated":{"line":25,"column":0},"source":"../../controllers/viewsController.js","original":{"line":13,"column":37}},{"generated":{"line":25,"column":11},"source":"../../controllers/viewsController.js","original":{"line":13,"column":2}},{"generated":{"line":27,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":28,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":29,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":30,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":31,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":32,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":33,"column":0},"source":"../../controllers/viewsController.js","original":{"line":6,"column":33}},{"generated":{"line":33,"column":1},"source":"../../controllers/viewsController.js","original":{"line":6,"column":32}},{"generated":{"line":33,"column":2},"source":"../../controllers/viewsController.js","original":{"line":6,"column":0}},{"name":"exports","generated":{"line":34,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":0}},{"generated":{"line":34,"column":7},"source":"../../controllers/viewsController.js","original":{"line":19,"column":7}},{"name":"getTour","generated":{"line":34,"column":8},"source":"../../controllers/viewsController.js","original":{"line":19,"column":8}},{"generated":{"line":34,"column":15},"source":"../../controllers/viewsController.js","original":{"line":19,"column":0}},{"name":"catchAsync","generated":{"line":34,"column":18},"source":"../../controllers/viewsController.js","original":{"line":19,"column":18}},{"generated":{"line":34,"column":28},"source":"../../controllers/viewsController.js","original":{"line":19,"column":28}},{"generated":{"line":34,"column":29},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"req","generated":{"line":34,"column":47},"source":"../../controllers/viewsController.js","original":{"line":19,"column":36}},{"generated":{"line":34,"column":50},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"res","generated":{"line":34,"column":52},"source":"../../controllers/viewsController.js","original":{"line":19,"column":41}},{"generated":{"line":34,"column":55},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"next","generated":{"line":34,"column":57},"source":"../../controllers/viewsController.js","original":{"line":19,"column":46}},{"generated":{"line":34,"column":61},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":35,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":36,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":37,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":38,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":39,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":40,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":41,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"Tour","generated":{"line":41,"column":42},"source":"../../controllers/viewsController.js","original":{"line":20,"column":21}},{"generated":{"line":41,"column":46},"source":"../../controllers/viewsController.js","original":{"line":20,"column":25}},{"name":"findOne","generated":{"line":41,"column":47},"source":"../../controllers/viewsController.js","original":{"line":20,"column":26}},{"generated":{"line":41,"column":54},"source":"../../controllers/viewsController.js","original":{"line":20,"column":21}},{"generated":{"line":41,"column":55},"source":"../../controllers/viewsController.js","original":{"line":20,"column":34}},{"name":"slug","generated":{"line":42,"column":0},"source":"../../controllers/viewsController.js","original":{"line":20,"column":36}},{"name":"slug","generated":{"line":42,"column":12},"source":"../../controllers/viewsController.js","original":{"line":20,"column":36}},{"generated":{"line":42,"column":16},"source":"../../controllers/viewsController.js","original":{"line":20,"column":40}},{"name":"req","generated":{"line":42,"column":18},"source":"../../controllers/viewsController.js","original":{"line":20,"column":42}},{"generated":{"line":42,"column":21},"source":"../../controllers/viewsController.js","original":{"line":20,"column":45}},{"name":"params","generated":{"line":42,"column":22},"source":"../../controllers/viewsController.js","original":{"line":20,"column":46}},{"generated":{"line":42,"column":28},"source":"../../controllers/viewsController.js","original":{"line":20,"column":42}},{"name":"slug","generated":{"line":42,"column":29},"source":"../../controllers/viewsController.js","original":{"line":20,"column":53}},{"generated":{"line":43,"column":0},"source":"../../controllers/viewsController.js","original":{"line":20,"column":34}},{"generated":{"line":43,"column":11},"source":"../../controllers/viewsController.js","original":{"line":20,"column":21}},{"name":"populate","generated":{"line":43,"column":13},"source":"../../controllers/viewsController.js","original":{"line":20,"column":61}},{"generated":{"line":43,"column":21},"source":"../../controllers/viewsController.js","original":{"line":20,"column":21}},{"generated":{"line":43,"column":22},"source":"../../controllers/viewsController.js","original":{"line":20,"column":70}},{"name":"path","generated":{"line":44,"column":0},"source":"../../controllers/viewsController.js","original":{"line":21,"column":4}},{"name":"path","generated":{"line":44,"column":12},"source":"../../controllers/viewsController.js","original":{"line":21,"column":4}},{"generated":{"line":44,"column":16},"source":"../../controllers/viewsController.js","original":{"line":21,"column":8}},{"generated":{"line":44,"column":18},"source":"../../controllers/viewsController.js","original":{"line":21,"column":10}},{"generated":{"line":44,"column":27},"source":"../../controllers/viewsController.js","original":{"line":20,"column":70}},{"name":"fields","generated":{"line":45,"column":0},"source":"../../controllers/viewsController.js","original":{"line":22,"column":4}},{"name":"fields","generated":{"line":45,"column":12},"source":"../../controllers/viewsController.js","original":{"line":22,"column":4}},{"generated":{"line":45,"column":18},"source":"../../controllers/viewsController.js","original":{"line":22,"column":10}},{"generated":{"line":45,"column":20},"source":"../../controllers/viewsController.js","original":{"line":22,"column":12}},{"generated":{"line":46,"column":0},"source":"../../controllers/viewsController.js","original":{"line":20,"column":70}},{"generated":{"line":46,"column":11},"source":"../../controllers/viewsController.js","original":{"line":20,"column":21}},{"generated":{"line":46,"column":12},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":48,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"tour","generated":{"line":49,"column":0},"source":"../../controllers/viewsController.js","original":{"line":20,"column":8}},{"name":"tour","generated":{"line":49,"column":10},"source":"../../controllers/viewsController.js","original":{"line":20,"column":8}},{"generated":{"line":49,"column":14},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":51,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"tour","generated":{"line":51,"column":14},"source":"../../controllers/viewsController.js","original":{"line":24,"column":7}},{"generated":{"line":51,"column":18},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":52,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":53,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":54,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":56,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"next","generated":{"line":56,"column":44},"source":"../../controllers/viewsController.js","original":{"line":25,"column":11}},{"generated":{"line":56,"column":48},"source":"../../controllers/viewsController.js","original":{"line":25,"column":15}},{"generated":{"line":56,"column":49},"source":"../../controllers/viewsController.js","original":{"line":25,"column":16}},{"name":"AppError","generated":{"line":56,"column":53},"source":"../../controllers/viewsController.js","original":{"line":25,"column":20}},{"generated":{"line":56,"column":61},"source":"../../controllers/viewsController.js","original":{"line":25,"column":16}},{"generated":{"line":56,"column":62},"source":"../../controllers/viewsController.js","original":{"line":25,"column":29}},{"generated":{"line":56,"column":95},"source":"../../controllers/viewsController.js","original":{"line":25,"column":16}},{"generated":{"line":56,"column":97},"source":"../../controllers/viewsController.js","original":{"line":25,"column":64}},{"generated":{"line":56,"column":100},"source":"../../controllers/viewsController.js","original":{"line":25,"column":16}},{"generated":{"line":56,"column":101},"source":"../../controllers/viewsController.js","original":{"line":25,"column":15}},{"generated":{"line":56,"column":102},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":58,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"name":"res","generated":{"line":59,"column":0},"source":"../../controllers/viewsController.js","original":{"line":27,"column":2}},{"name":"res","generated":{"line":59,"column":10},"source":"../../controllers/viewsController.js","original":{"line":27,"column":2}},{"generated":{"line":59,"column":13},"source":"../../controllers/viewsController.js","original":{"line":27,"column":5}},{"name":"status","generated":{"line":59,"column":14},"source":"../../controllers/viewsController.js","original":{"line":27,"column":6}},{"generated":{"line":59,"column":20},"source":"../../controllers/viewsController.js","original":{"line":27,"column":2}},{"generated":{"line":59,"column":21},"source":"../../controllers/viewsController.js","original":{"line":27,"column":13}},{"generated":{"line":59,"column":24},"source":"../../controllers/viewsController.js","original":{"line":27,"column":2}},{"name":"render","generated":{"line":59,"column":26},"source":"../../controllers/viewsController.js","original":{"line":27,"column":18}},{"generated":{"line":59,"column":32},"source":"../../controllers/viewsController.js","original":{"line":27,"column":2}},{"generated":{"line":59,"column":33},"source":"../../controllers/viewsController.js","original":{"line":27,"column":25}},{"generated":{"line":59,"column":39},"source":"../../controllers/viewsController.js","original":{"line":27,"column":2}},{"generated":{"line":59,"column":41},"source":"../../controllers/viewsController.js","original":{"line":27,"column":33}},{"name":"title","generated":{"line":60,"column":0},"source":"../../controllers/viewsController.js","original":{"line":28,"column":4}},{"name":"title","generated":{"line":60,"column":12},"source":"../../controllers/viewsController.js","original":{"line":28,"column":4}},{"generated":{"line":60,"column":17},"source":"../../controllers/viewsController.js","original":{"line":28,"column":9}},{"name":"tour","generated":{"line":60,"column":29},"source":"../../controllers/viewsController.js","original":{"line":28,"column":14}},{"generated":{"line":60,"column":33},"source":"../../controllers/viewsController.js","original":{"line":28,"column":18}},{"name":"name","generated":{"line":60,"column":34},"source":"../../controllers/viewsController.js","original":{"line":28,"column":19}},{"generated":{"line":60,"column":38},"source":"../../controllers/viewsController.js","original":{"line":28,"column":9}},{"generated":{"line":60,"column":39},"source":"../../controllers/viewsController.js","original":{"line":27,"column":33}},{"name":"tour","generated":{"line":61,"column":0},"source":"../../controllers/viewsController.js","original":{"line":29,"column":4}},{"name":"tour","generated":{"line":61,"column":12},"source":"../../controllers/viewsController.js","original":{"line":29,"column":4}},{"generated":{"line":61,"column":16},"source":"../../controllers/viewsController.js","original":{"line":29,"column":8}},{"name":"tour","generated":{"line":61,"column":18},"source":"../../controllers/viewsController.js","original":{"line":29,"column":4}},{"generated":{"line":62,"column":0},"source":"../../controllers/viewsController.js","original":{"line":27,"column":33}},{"generated":{"line":62,"column":11},"source":"../../controllers/viewsController.js","original":{"line":27,"column":2}},{"generated":{"line":64,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":65,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":66,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":67,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":68,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":69,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":70,"column":0},"source":"../../controllers/viewsController.js","original":{"line":19,"column":29}},{"generated":{"line":70,"column":1},"source":"../../controllers/viewsController.js","original":{"line":19,"column":28}},{"generated":{"line":70,"column":2},"source":"../../controllers/viewsController.js","original":{"line":19,"column":0}},{"name":"exports","generated":{"line":72,"column":0},"source":"../../controllers/viewsController.js","original":{"line":33,"column":0}},{"generated":{"line":72,"column":7},"source":"../../controllers/viewsController.js","original":{"line":33,"column":7}},{"name":"getLoginForm","generated":{"line":72,"column":8},"source":"../../controllers/viewsController.js","original":{"line":33,"column":8}},{"generated":{"line":72,"column":20},"source":"../../controllers/viewsController.js","original":{"line":33,"column":0}},{"generated":{"line":72,"column":23},"source":"../../controllers/viewsController.js","original":{"line":33,"column":23}},{"name":"req","generated":{"line":72,"column":33},"source":"../../controllers/viewsController.js","original":{"line":33,"column":24}},{"generated":{"line":72,"column":36},"source":"../../controllers/viewsController.js","original":{"line":33,"column":23}},{"name":"res","generated":{"line":72,"column":38},"source":"../../controllers/viewsController.js","original":{"line":33,"column":29}},{"generated":{"line":72,"column":41},"source":"../../controllers/viewsController.js","original":{"line":33,"column":23}},{"generated":{"line":72,"column":43},"source":"../../controllers/viewsController.js","original":{"line":33,"column":37}},{"name":"res","generated":{"line":73,"column":0},"source":"../../controllers/viewsController.js","original":{"line":34,"column":2}},{"name":"res","generated":{"line":73,"column":2},"source":"../../controllers/viewsController.js","original":{"line":34,"column":2}},{"generated":{"line":73,"column":5},"source":"../../controllers/viewsController.js","original":{"line":34,"column":5}},{"name":"status","generated":{"line":73,"column":6},"source":"../../controllers/viewsController.js","original":{"line":34,"column":6}},{"generated":{"line":73,"column":12},"source":"../../controllers/viewsController.js","original":{"line":34,"column":2}},{"generated":{"line":73,"column":13},"source":"../../controllers/viewsController.js","original":{"line":34,"column":13}},{"generated":{"line":73,"column":16},"source":"../../controllers/viewsController.js","original":{"line":34,"column":2}},{"name":"render","generated":{"line":73,"column":18},"source":"../../controllers/viewsController.js","original":{"line":34,"column":18}},{"generated":{"line":73,"column":24},"source":"../../controllers/viewsController.js","original":{"line":34,"column":2}},{"generated":{"line":73,"column":25},"source":"../../controllers/viewsController.js","original":{"line":34,"column":25}},{"generated":{"line":73,"column":32},"source":"../../controllers/viewsController.js","original":{"line":34,"column":2}},{"generated":{"line":73,"column":34},"source":"../../controllers/viewsController.js","original":{"line":34,"column":34}},{"name":"title","generated":{"line":74,"column":0},"source":"../../controllers/viewsController.js","original":{"line":35,"column":4}},{"name":"title","generated":{"line":74,"column":4},"source":"../../controllers/viewsController.js","original":{"line":35,"column":4}},{"generated":{"line":74,"column":9},"source":"../../controllers/viewsController.js","original":{"line":35,"column":9}},{"generated":{"line":74,"column":11},"source":"../../controllers/viewsController.js","original":{"line":35,"column":11}},{"generated":{"line":75,"column":0},"source":"../../controllers/viewsController.js","original":{"line":34,"column":34}},{"generated":{"line":75,"column":3},"source":"../../controllers/viewsController.js","original":{"line":34,"column":2}},{"generated":{"line":76,"column":0},"source":"../../controllers/viewsController.js","original":{"line":37,"column":1}},{"generated":{"line":76,"column":1},"source":"../../controllers/viewsController.js","original":{"line":33,"column":0}},{"name":"exports","generated":{"line":78,"column":0},"source":"../../controllers/viewsController.js","original":{"line":39,"column":0}},{"generated":{"line":78,"column":7},"source":"../../controllers/viewsController.js","original":{"line":39,"column":7}},{"name":"getSignupForm","generated":{"line":78,"column":8},"source":"../../controllers/viewsController.js","original":{"line":39,"column":8}},{"generated":{"line":78,"column":21},"source":"../../controllers/viewsController.js","original":{"line":39,"column":0}},{"generated":{"line":78,"column":24},"source":"../../controllers/viewsController.js","original":{"line":39,"column":24}},{"name":"req","generated":{"line":78,"column":34},"source":"../../controllers/viewsController.js","original":{"line":39,"column":25}},{"generated":{"line":78,"column":37},"source":"../../controllers/viewsController.js","original":{"line":39,"column":24}},{"name":"res","generated":{"line":78,"column":39},"source":"../../controllers/viewsController.js","original":{"line":39,"column":30}},{"generated":{"line":78,"column":42},"source":"../../controllers/viewsController.js","original":{"line":39,"column":24}},{"generated":{"line":78,"column":44},"source":"../../controllers/viewsController.js","original":{"line":39,"column":38}},{"name":"res","generated":{"line":79,"column":0},"source":"../../controllers/viewsController.js","original":{"line":40,"column":2}},{"name":"res","generated":{"line":79,"column":2},"source":"../../controllers/viewsController.js","original":{"line":40,"column":2}},{"generated":{"line":79,"column":5},"source":"../../controllers/viewsController.js","original":{"line":40,"column":5}},{"name":"status","generated":{"line":79,"column":6},"source":"../../controllers/viewsController.js","original":{"line":40,"column":6}},{"generated":{"line":79,"column":12},"source":"../../controllers/viewsController.js","original":{"line":40,"column":2}},{"generated":{"line":79,"column":13},"source":"../../controllers/viewsController.js","original":{"line":40,"column":13}},{"generated":{"line":79,"column":16},"source":"../../controllers/viewsController.js","original":{"line":40,"column":2}},{"name":"render","generated":{"line":79,"column":18},"source":"../../controllers/viewsController.js","original":{"line":40,"column":18}},{"generated":{"line":79,"column":24},"source":"../../controllers/viewsController.js","original":{"line":40,"column":2}},{"generated":{"line":79,"column":25},"source":"../../controllers/viewsController.js","original":{"line":40,"column":25}},{"generated":{"line":79,"column":33},"source":"../../controllers/viewsController.js","original":{"line":40,"column":2}},{"generated":{"line":79,"column":35},"source":"../../controllers/viewsController.js","original":{"line":40,"column":35}},{"name":"title","generated":{"line":80,"column":0},"source":"../../controllers/viewsController.js","original":{"line":41,"column":4}},{"name":"title","generated":{"line":80,"column":4},"source":"../../controllers/viewsController.js","original":{"line":41,"column":4}},{"generated":{"line":80,"column":9},"source":"../../controllers/viewsController.js","original":{"line":41,"column":9}},{"generated":{"line":80,"column":11},"source":"../../controllers/viewsController.js","original":{"line":41,"column":11}},{"generated":{"line":81,"column":0},"source":"../../controllers/viewsController.js","original":{"line":40,"column":35}},{"generated":{"line":81,"column":3},"source":"../../controllers/viewsController.js","original":{"line":40,"column":2}},{"generated":{"line":82,"column":0},"source":"../../controllers/viewsController.js","original":{"line":43,"column":1}},{"generated":{"line":82,"column":1},"source":"../../controllers/viewsController.js","original":{"line":39,"column":0}},{"name":"exports","generated":{"line":84,"column":0},"source":"../../controllers/viewsController.js","original":{"line":45,"column":0}},{"generated":{"line":84,"column":7},"source":"../../controllers/viewsController.js","original":{"line":45,"column":7}},{"name":"getAccount","generated":{"line":84,"column":8},"source":"../../controllers/viewsController.js","original":{"line":45,"column":8}},{"generated":{"line":84,"column":18},"source":"../../controllers/viewsController.js","original":{"line":45,"column":0}},{"generated":{"line":84,"column":21},"source":"../../controllers/viewsController.js","original":{"line":45,"column":21}},{"name":"req","generated":{"line":84,"column":31},"source":"../../controllers/viewsController.js","original":{"line":45,"column":22}},{"generated":{"line":84,"column":34},"source":"../../controllers/viewsController.js","original":{"line":45,"column":21}},{"name":"res","generated":{"line":84,"column":36},"source":"../../controllers/viewsController.js","original":{"line":45,"column":27}},{"generated":{"line":84,"column":39},"source":"../../controllers/viewsController.js","original":{"line":45,"column":21}},{"generated":{"line":84,"column":41},"source":"../../controllers/viewsController.js","original":{"line":45,"column":35}},{"name":"res","generated":{"line":85,"column":0},"source":"../../controllers/viewsController.js","original":{"line":46,"column":2}},{"name":"res","generated":{"line":85,"column":2},"source":"../../controllers/viewsController.js","original":{"line":46,"column":2}},{"generated":{"line":85,"column":5},"source":"../../controllers/viewsController.js","original":{"line":46,"column":5}},{"name":"status","generated":{"line":85,"column":6},"source":"../../controllers/viewsController.js","original":{"line":46,"column":6}},{"generated":{"line":85,"column":12},"source":"../../controllers/viewsController.js","original":{"line":46,"column":2}},{"generated":{"line":85,"column":13},"source":"../../controllers/viewsController.js","original":{"line":46,"column":13}},{"generated":{"line":85,"column":16},"source":"../../controllers/viewsController.js","original":{"line":46,"column":2}},{"name":"render","generated":{"line":85,"column":18},"source":"../../controllers/viewsController.js","original":{"line":46,"column":18}},{"generated":{"line":85,"column":24},"source":"../../controllers/viewsController.js","original":{"line":46,"column":2}},{"generated":{"line":85,"column":25},"source":"../../controllers/viewsController.js","original":{"line":46,"column":25}},{"generated":{"line":85,"column":34},"source":"../../controllers/viewsController.js","original":{"line":46,"column":2}},{"generated":{"line":86,"column":0},"source":"../../controllers/viewsController.js","original":{"line":47,"column":1}},{"generated":{"line":86,"column":1},"source":"../../controllers/viewsController.js","original":{"line":45,"column":0}},{"name":"exports","generated":{"line":88,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":0}},{"generated":{"line":88,"column":7},"source":"../../controllers/viewsController.js","original":{"line":49,"column":7}},{"name":"updateUserData","generated":{"line":88,"column":8},"source":"../../controllers/viewsController.js","original":{"line":49,"column":8}},{"generated":{"line":88,"column":22},"source":"../../controllers/viewsController.js","original":{"line":49,"column":0}},{"name":"catchAsync","generated":{"line":88,"column":25},"source":"../../controllers/viewsController.js","original":{"line":49,"column":25}},{"generated":{"line":88,"column":35},"source":"../../controllers/viewsController.js","original":{"line":49,"column":35}},{"generated":{"line":88,"column":36},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"name":"req","generated":{"line":88,"column":54},"source":"../../controllers/viewsController.js","original":{"line":49,"column":43}},{"generated":{"line":88,"column":57},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"name":"res","generated":{"line":88,"column":59},"source":"../../controllers/viewsController.js","original":{"line":49,"column":48}},{"generated":{"line":88,"column":62},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"name":"next","generated":{"line":88,"column":64},"source":"../../controllers/viewsController.js","original":{"line":49,"column":53}},{"generated":{"line":88,"column":68},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":89,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":90,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":91,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":92,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":93,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":94,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":95,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"name":"User","generated":{"line":95,"column":42},"source":"../../controllers/viewsController.js","original":{"line":50,"column":28}},{"generated":{"line":95,"column":46},"source":"../../controllers/viewsController.js","original":{"line":50,"column":32}},{"name":"findByIdAndUpdate","generated":{"line":95,"column":47},"source":"../../controllers/viewsController.js","original":{"line":50,"column":33}},{"generated":{"line":95,"column":64},"source":"../../controllers/viewsController.js","original":{"line":50,"column":28}},{"name":"req","generated":{"line":95,"column":65},"source":"../../controllers/viewsController.js","original":{"line":51,"column":4}},{"generated":{"line":95,"column":68},"source":"../../controllers/viewsController.js","original":{"line":51,"column":7}},{"name":"user","generated":{"line":95,"column":69},"source":"../../controllers/viewsController.js","original":{"line":51,"column":8}},{"generated":{"line":95,"column":73},"source":"../../controllers/viewsController.js","original":{"line":51,"column":4}},{"name":"id","generated":{"line":95,"column":74},"source":"../../controllers/viewsController.js","original":{"line":51,"column":13}},{"generated":{"line":95,"column":76},"source":"../../controllers/viewsController.js","original":{"line":50,"column":28}},{"generated":{"line":95,"column":78},"source":"../../controllers/viewsController.js","original":{"line":52,"column":4}},{"name":"name","generated":{"line":96,"column":0},"source":"../../controllers/viewsController.js","original":{"line":53,"column":6}},{"name":"name","generated":{"line":96,"column":12},"source":"../../controllers/viewsController.js","original":{"line":53,"column":6}},{"generated":{"line":96,"column":16},"source":"../../controllers/viewsController.js","original":{"line":53,"column":10}},{"name":"req","generated":{"line":96,"column":18},"source":"../../controllers/viewsController.js","original":{"line":53,"column":12}},{"generated":{"line":96,"column":21},"source":"../../controllers/viewsController.js","original":{"line":53,"column":15}},{"name":"body","generated":{"line":96,"column":22},"source":"../../controllers/viewsController.js","original":{"line":53,"column":16}},{"generated":{"line":96,"column":26},"source":"../../controllers/viewsController.js","original":{"line":53,"column":12}},{"name":"name","generated":{"line":96,"column":27},"source":"../../controllers/viewsController.js","original":{"line":53,"column":21}},{"generated":{"line":96,"column":31},"source":"../../controllers/viewsController.js","original":{"line":52,"column":4}},{"name":"email","generated":{"line":97,"column":0},"source":"../../controllers/viewsController.js","original":{"line":54,"column":6}},{"name":"email","generated":{"line":97,"column":12},"source":"../../controllers/viewsController.js","original":{"line":54,"column":6}},{"generated":{"line":97,"column":17},"source":"../../controllers/viewsController.js","original":{"line":54,"column":11}},{"name":"req","generated":{"line":97,"column":19},"source":"../../controllers/viewsController.js","original":{"line":54,"column":13}},{"generated":{"line":97,"column":22},"source":"../../controllers/viewsController.js","original":{"line":54,"column":16}},{"name":"body","generated":{"line":97,"column":23},"source":"../../controllers/viewsController.js","original":{"line":54,"column":17}},{"generated":{"line":97,"column":27},"source":"../../controllers/viewsController.js","original":{"line":54,"column":13}},{"name":"email","generated":{"line":97,"column":28},"source":"../../controllers/viewsController.js","original":{"line":54,"column":22}},{"generated":{"line":98,"column":0},"source":"../../controllers/viewsController.js","original":{"line":52,"column":4}},{"generated":{"line":98,"column":11},"source":"../../controllers/viewsController.js","original":{"line":50,"column":28}},{"generated":{"line":98,"column":13},"source":"../../controllers/viewsController.js","original":{"line":56,"column":4}},{"name":"new","generated":{"line":99,"column":0},"source":"../../controllers/viewsController.js","original":{"line":57,"column":6}},{"name":"new","generated":{"line":99,"column":12},"source":"../../controllers/viewsController.js","original":{"line":57,"column":6}},{"generated":{"line":99,"column":15},"source":"../../controllers/viewsController.js","original":{"line":57,"column":9}},{"generated":{"line":99,"column":17},"source":"../../controllers/viewsController.js","original":{"line":57,"column":11}},{"generated":{"line":99,"column":21},"source":"../../controllers/viewsController.js","original":{"line":56,"column":4}},{"name":"runValidators","generated":{"line":100,"column":0},"source":"../../controllers/viewsController.js","original":{"line":58,"column":6}},{"name":"runValidators","generated":{"line":100,"column":12},"source":"../../controllers/viewsController.js","original":{"line":58,"column":6}},{"generated":{"line":100,"column":25},"source":"../../controllers/viewsController.js","original":{"line":58,"column":19}},{"generated":{"line":100,"column":27},"source":"../../controllers/viewsController.js","original":{"line":58,"column":21}},{"generated":{"line":101,"column":0},"source":"../../controllers/viewsController.js","original":{"line":56,"column":4}},{"generated":{"line":101,"column":11},"source":"../../controllers/viewsController.js","original":{"line":50,"column":28}},{"generated":{"line":101,"column":12},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":103,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"name":"updatedUser","generated":{"line":104,"column":0},"source":"../../controllers/viewsController.js","original":{"line":50,"column":8}},{"name":"updatedUser","generated":{"line":104,"column":10},"source":"../../controllers/viewsController.js","original":{"line":50,"column":8}},{"generated":{"line":104,"column":21},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"name":"res","generated":{"line":105,"column":0},"source":"../../controllers/viewsController.js","original":{"line":62,"column":2}},{"name":"res","generated":{"line":105,"column":10},"source":"../../controllers/viewsController.js","original":{"line":62,"column":2}},{"generated":{"line":105,"column":13},"source":"../../controllers/viewsController.js","original":{"line":62,"column":5}},{"name":"status","generated":{"line":105,"column":14},"source":"../../controllers/viewsController.js","original":{"line":62,"column":6}},{"generated":{"line":105,"column":20},"source":"../../controllers/viewsController.js","original":{"line":62,"column":2}},{"generated":{"line":105,"column":21},"source":"../../controllers/viewsController.js","original":{"line":62,"column":13}},{"generated":{"line":105,"column":24},"source":"../../controllers/viewsController.js","original":{"line":62,"column":2}},{"name":"render","generated":{"line":105,"column":26},"source":"../../controllers/viewsController.js","original":{"line":62,"column":18}},{"generated":{"line":105,"column":32},"source":"../../controllers/viewsController.js","original":{"line":62,"column":2}},{"generated":{"line":105,"column":33},"source":"../../controllers/viewsController.js","original":{"line":62,"column":25}},{"generated":{"line":105,"column":42},"source":"../../controllers/viewsController.js","original":{"line":62,"column":2}},{"generated":{"line":105,"column":44},"source":"../../controllers/viewsController.js","original":{"line":62,"column":36}},{"name":"title","generated":{"line":106,"column":0},"source":"../../controllers/viewsController.js","original":{"line":63,"column":4}},{"name":"title","generated":{"line":106,"column":12},"source":"../../controllers/viewsController.js","original":{"line":63,"column":4}},{"generated":{"line":106,"column":17},"source":"../../controllers/viewsController.js","original":{"line":63,"column":9}},{"generated":{"line":106,"column":19},"source":"../../controllers/viewsController.js","original":{"line":63,"column":11}},{"generated":{"line":106,"column":33},"source":"../../controllers/viewsController.js","original":{"line":62,"column":36}},{"name":"user","generated":{"line":107,"column":0},"source":"../../controllers/viewsController.js","original":{"line":64,"column":4}},{"name":"user","generated":{"line":107,"column":12},"source":"../../controllers/viewsController.js","original":{"line":64,"column":4}},{"generated":{"line":107,"column":16},"source":"../../controllers/viewsController.js","original":{"line":64,"column":8}},{"name":"updatedUser","generated":{"line":107,"column":18},"source":"../../controllers/viewsController.js","original":{"line":64,"column":10}},{"generated":{"line":108,"column":0},"source":"../../controllers/viewsController.js","original":{"line":62,"column":36}},{"generated":{"line":108,"column":11},"source":"../../controllers/viewsController.js","original":{"line":62,"column":2}},{"generated":{"line":110,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":111,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":112,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":113,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":114,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":115,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":116,"column":0},"source":"../../controllers/viewsController.js","original":{"line":49,"column":36}},{"generated":{"line":116,"column":1},"source":"../../controllers/viewsController.js","original":{"line":49,"column":35}},{"generated":{"line":116,"column":2},"source":"../../controllers/viewsController.js","original":{"line":49,"column":0}}],"sources":{"../../controllers/viewsController.js":"const Tour = require('../models/tourModel');\nconst User = require('../models/userModel');\nconst catchAsync = require('../utils/catchAsync');\nconst AppError = require('../utils/appError');\n\nexports.getOverview = catchAsync(async (req, res, next) => {\n  //1.Get all tours\n  const tours = await Tour.find();\n  //2.Create template\n\n  //3.Render template\n\n  res.status(200).render('overview', {\n    title: 'All tours',\n    tours\n  });\n});\n\nexports.getTour = catchAsync(async (req, res, next) => {\n  const tour = await Tour.findOne({ slug: req.params.slug }).populate({\n    path: 'reviews',\n    fields: 'review rating user'\n  });\n  if (!tour) {\n    return next(new AppError('There is no tour with that name', 404));\n  }\n  res.status(200).render('tour', {\n    title: `${tour.name}`,\n    tour\n  });\n});\n\nexports.getLoginForm = (req, res) => {\n  res.status(200).render('login', {\n    title: 'Log into your account'\n  });\n};\n\nexports.getSignupForm = (req, res) => {\n  res.status(200).render('signup', {\n    title: 'Create a new account'\n  });\n};\n\nexports.getAccount = (req, res) => {\n  res.status(200).render('account');\n};\n\nexports.updateUserData = catchAsync(async (req, res, next) => {\n  const updatedUser = await User.findByIdAndUpdate(\n    req.user.id,\n    {\n      name: req.body.name,\n      email: req.body.email\n    },\n    {\n      new: true,\n      runValidators: true\n    }\n  );\n\n  res.status(200).render('account', {\n    title: 'Your account',\n    user: updatedUser\n  });\n});\n"},"lineCount":null}},"error":null,"hash":"d5d47425b6172e5a56761de5596cd917","cacheData":{"env":{}}}